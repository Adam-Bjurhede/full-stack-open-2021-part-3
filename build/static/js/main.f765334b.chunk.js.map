{"version":3,"sources":["components/Filter.jsx","components/PersonForm.jsx","components/Persons.jsx","services/persons.js","components/Notification.jsx","App.js","index.js"],"names":["Filter","handleChange","fiterString","type","value","onChange","PersonForm","handleSubmit","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","Persons","persons","filterString","handleDelete","filteredPersons","filter","person","name","toLowerCase","includes","map","number","onClick","id","baseUrl","phonebook","getAll","axios","get","then","result","data","create","newObject","post","response","catch","error","console","log","remove","delete","update","put","Notification","message","className","App","useEffect","initialPersons","setPersons","useState","setNewName","setNewNumber","setFilterString","statusMessage","setStatusMessage","e","target","preventDefault","personObject","personExists","find","window","confirm","setTimeout","concat","personId","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f765334b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction Filter({ handleChange, fiterString }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tFilter shown with: <input type='text' value={fiterString} onChange={handleChange} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nfunction PersonForm({ handleSubmit, handleNameChange, handleNumberChange, newName, newNumber }) {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input type='text' value={newName} onChange={handleNameChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber: <input type='number' value={newNumber} onChange={handleNumberChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type='submit'>add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nfunction Persons({ persons, filterString, handleDelete }) {\r\n\tconst filteredPersons = persons.filter((person) => person.name.toLowerCase().includes(filterString.toLowerCase()));\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{filteredPersons.map((person) => (\r\n\t\t\t\t<p key={person.name}>\r\n\t\t\t\t\t{person.name} {person.number} <button onClick={() => handleDelete(person.id)}>Delete</button>\r\n\t\t\t\t</p>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Persons;\r\n","import axios from 'axios';\r\nconst baseUrl = 'http://localhost:3001/api/persons/';\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl);\r\n\treturn request.then((result) => {\r\n\t\treturn result.data;\r\n\t});\r\n};\r\n\r\nconst create = (newObject) => {\r\n\tconst request = axios.post(baseUrl, newObject);\r\n\treturn request\r\n\t\t.then((response) => {\r\n\t\t\treturn response.data;\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.log('failed', error);\r\n\t\t});\r\n};\r\n\r\nconst remove = (id) => {\r\n\tconst request = axios.delete(baseUrl + id);\r\n\trequest\r\n\t\t.then((response) => {\r\n\t\t\tconsole.log(response);\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.log('failed', error);\r\n\t\t});\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n\tconst request = axios.put(baseUrl + id, newObject);\r\n\treturn request.then((result) => {\r\n\t\treturn result.data;\r\n\t});\r\n};\r\n\r\nconst phonebook = {\r\n\tgetAll,\r\n\tcreate,\r\n\tremove,\r\n\tupdate,\r\n};\r\n\r\nexport default phonebook;\r\n","import React from 'react';\r\n\r\nfunction Notification({ message, error = false }) {\r\n\tif (message === null) return null;\r\n\treturn <div className={error ? 'error-message' : 'success-message'}>{message}</div>;\r\n}\r\n\r\nexport default Notification;\r\n","import React, { useEffect, useState } from 'react';\n\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport phonebook from './services/persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n\tuseEffect(() => {\n\t\tphonebook.getAll().then((initialPersons) => {\n\t\t\tsetPersons(initialPersons);\n\t\t});\n\t}, []);\n\n\tconst [persons, setPersons] = useState([]);\n\tconst [newName, setNewName] = useState('');\n\tconst [newNumber, setNewNumber] = useState('');\n\tconst [filterString, setFilterString] = useState('');\n\tconst [statusMessage, setStatusMessage] = useState({ message: null, error: false });\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\n\t\tconst personObject = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber,\n\t\t};\n\n\t\tconst personExists = persons.find((person) => person.name.toLowerCase() === newName.toLowerCase());\n\n\t\tif (personExists) {\n\t\t\tif (\n\t\t\t\twindow.confirm(`${personExists.name} is already added to phonebook, replace the old number with the new one?`)\n\t\t\t) {\n\t\t\t\tphonebook\n\t\t\t\t\t.update(personExists.id, personObject)\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\tsetPersons(persons.map((person) => (person.id !== personExists.id ? person : result)));\n\t\t\t\t\t\tsetStatusMessage({ message: `${personExists.name}'s number was succesfully updated`, error: false });\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.log('Something went wrong');\n\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\tpersons.filter((person) => {\n\t\t\t\t\t\t\t\treturn person.id !== personExists.id;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetStatusMessage({ message: 'Person was already deleted', error: true });\n\t\t\t\t\t});\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetStatusMessage({ message: null, error: null });\n\t\t\t\t}, 5000);\n\t\t\t}\n\t\t} else {\n\t\t\tphonebook.create(personObject).then((result) => {\n\t\t\t\tsetPersons(persons.concat(result));\n\t\t\t\tsetStatusMessage({ message: `${result.name} was succesfully added to phonebook`, error: false });\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetStatusMessage({ message: null, error: null });\n\t\t\t\t}, 5000);\n\t\t\t});\n\t\t}\n\n\t\tsetNewName('');\n\t\tsetNewNumber('');\n\t};\n\n\tconst handleNameChange = (e) => setNewName(e.target.value);\n\n\tconst handleNumberChange = (e) => setNewNumber(e.target.value);\n\n\tconst handleFilterChange = (e) => setFilterString(e.target.value);\n\n\tconst handleDelete = (personId) => {\n\t\tif (window.confirm('Are you sure you wish to delete this person from phonebook?')) {\n\t\t\tphonebook.remove(personId);\n\t\t\tsetPersons(persons.filter((person) => person.id !== personId));\n\t\t}\n\t\treturn;\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={statusMessage.message} error={statusMessage.error} />\n\t\t\t<Filter handleChange={handleFilterChange} filterString={filterString} />\n\n\t\t\t<h3>Add a New</h3>\n\t\t\t<PersonForm\n\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t\tnewName={newName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t/>\n\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons persons={persons} filterString={filterString} handleDelete={handleDelete} />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/index.css';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}