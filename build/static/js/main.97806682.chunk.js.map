{"version":3,"sources":["components/Filter.jsx","components/PersonForm.jsx","components/Persons.jsx","services/persons.js","components/Notification.jsx","App.js","index.js"],"names":["Filter","handleChange","fiterString","type","value","onChange","PersonForm","handleSubmit","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","Persons","persons","filterString","handleDelete","console","log","filteredPersons","filter","person","name","toLowerCase","includes","map","number","onClick","_id","baseUrl","phonebook","getAll","axios","get","then","result","data","create","newObject","post","response","catch","error","remove","id","delete","update","put","Notification","message","className","App","useEffect","initialPersons","setPersons","useState","setNewName","setNewNumber","setFilterString","statusMessage","setStatusMessage","e","target","preventDefault","personObject","personExists","find","window","confirm","setTimeout","concat","personId","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.97806682.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction Filter({ handleChange, fiterString }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tFilter shown with: <input type='text' value={fiterString} onChange={handleChange} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nfunction PersonForm({ handleSubmit, handleNameChange, handleNumberChange, newName, newNumber }) {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input type='text' value={newName} onChange={handleNameChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber: <input type='number' value={newNumber} onChange={handleNumberChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type='submit'>add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nfunction Persons({ persons, filterString, handleDelete }) {\r\n\tconsole.log(persons);\r\n\tconst filteredPersons = persons.filter((person) => person.name.toLowerCase().includes(filterString.toLowerCase()));\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{filteredPersons.map((person) => (\r\n\t\t\t\t<p key={person.name}>\r\n\t\t\t\t\t{person.name} {person.number} <button onClick={() => handleDelete(person._id)}>Delete</button>\r\n\t\t\t\t</p>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Persons;\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons/';\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl);\r\n\treturn request.then((result) => {\r\n\t\treturn result.data;\r\n\t});\r\n};\r\n\r\nconst create = (newObject) => {\r\n\tconst request = axios.post(baseUrl, newObject);\r\n\treturn request\r\n\t\t.then((response) => {\r\n\t\t\treturn response.data;\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.log('failed', error);\r\n\t\t});\r\n};\r\n\r\nconst remove = (id) => {\r\n\tconst request = axios.delete(baseUrl + id);\r\n\trequest\r\n\t\t.then((response) => {\r\n\t\t\tconsole.log(response);\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.log('failed', error);\r\n\t\t});\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n\tconsole.log(id, newObject);\r\n\tconst request = axios.put(baseUrl + id, newObject);\r\n\treturn request.then((result) => {\r\n\t\treturn result.data;\r\n\t});\r\n};\r\n\r\nconst phonebook = {\r\n\tgetAll,\r\n\tcreate,\r\n\tremove,\r\n\tupdate,\r\n};\r\n\r\nexport default phonebook;\r\n","import React from 'react';\r\n\r\nfunction Notification({ message, error = false }) {\r\n\tif (message === null) return null;\r\n\treturn <div className={error ? 'error-message' : 'success-message'}>{message}</div>;\r\n}\r\n\r\nexport default Notification;\r\n","import React, { useEffect, useState } from 'react';\n\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport phonebook from './services/persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n\tuseEffect(() => {\n\t\tphonebook.getAll().then((initialPersons) => {\n\t\t\tsetPersons(initialPersons);\n\t\t});\n\t}, []);\n\n\tconst [persons, setPersons] = useState([]);\n\tconst [newName, setNewName] = useState('');\n\tconst [newNumber, setNewNumber] = useState('');\n\tconst [filterString, setFilterString] = useState('');\n\tconst [statusMessage, setStatusMessage] = useState({ message: null, error: false });\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\n\t\tconst personObject = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber,\n\t\t};\n\n\t\tconst personExists = persons.find((person) => person.name.toLowerCase() === newName.toLowerCase());\n\t\tconsole.log(personExists);\n\n\t\tif (personExists) {\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t`${personExists.name} is already added to phonebook, replace the old number with the new one?`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tphonebook\n\t\t\t\t\t.update(personExists._id, personObject)\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\tsetPersons(persons.map((person) => (person._id !== personExists._id ? person : result)));\n\t\t\t\t\t\tsetStatusMessage({\n\t\t\t\t\t\t\tmessage: `${personExists.name}'s number was succesfully updated`,\n\t\t\t\t\t\t\terror: false,\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.log('Something went wrong');\n\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\tpersons.filter((person) => {\n\t\t\t\t\t\t\t\treturn person._id !== personExists._id;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetStatusMessage({ message: 'Person was already deleted', error: true });\n\t\t\t\t\t});\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetStatusMessage({ message: null, error: null });\n\t\t\t\t}, 5000);\n\t\t\t}\n\t\t} else {\n\t\t\tphonebook.create(personObject).then((result) => {\n\t\t\t\tsetPersons(persons.concat(result));\n\t\t\t\tsetStatusMessage({ message: `${result.name} was succesfully added to phonebook`, error: false });\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetStatusMessage({ message: null, error: null });\n\t\t\t\t}, 5000);\n\t\t\t});\n\t\t}\n\n\t\tsetNewName('');\n\t\tsetNewNumber('');\n\t};\n\n\tconst handleNameChange = (e) => setNewName(e.target.value);\n\n\tconst handleNumberChange = (e) => setNewNumber(e.target.value);\n\n\tconst handleFilterChange = (e) => setFilterString(e.target.value);\n\n\tconst handleDelete = (personId) => {\n\t\tif (window.confirm('Are you sure you wish to delete this person from phonebook?')) {\n\t\t\tphonebook.remove(personId);\n\t\t\tsetPersons(persons.filter((person) => person._id !== personId));\n\t\t}\n\t\treturn;\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={statusMessage.message} error={statusMessage.error} />\n\t\t\t<Filter handleChange={handleFilterChange} filterString={filterString} />\n\n\t\t\t<h3>Add a New</h3>\n\t\t\t<PersonForm\n\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t\tnewName={newName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t/>\n\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons persons={persons} filterString={filterString} handleDelete={handleDelete} />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/index.css';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}