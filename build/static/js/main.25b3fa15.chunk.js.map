{"version":3,"sources":["components/Filter.jsx","components/PersonForm.jsx","components/Persons.jsx","services/persons.js","components/Notification.jsx","App.js","index.js"],"names":["Filter","handleChange","fiterString","type","value","onChange","PersonForm","handleSubmit","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","Persons","persons","filterString","handleDelete","filteredPersons","filter","person","name","toLowerCase","includes","map","number","onClick","id","baseUrl","phonebook","getAll","axios","get","then","result","data","create","newObject","post","response","remove","delete","update","put","Notification","message","error","className","App","useEffect","initialPersons","setPersons","useState","setNewName","setNewNumber","setFilterString","statusMessage","setStatusMessage","e","target","preventDefault","personObject","personExists","find","window","confirm","catch","console","log","setTimeout","concat","personId","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.25b3fa15.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction Filter({ handleChange, fiterString }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tFilter shown with: <input type='text' value={fiterString} onChange={handleChange} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nfunction PersonForm({ handleSubmit, handleNameChange, handleNumberChange, newName, newNumber }) {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input type='text' value={newName} onChange={handleNameChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber: <input type='number' value={newNumber} onChange={handleNumberChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type='submit'>add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nfunction Persons({ persons, filterString, handleDelete }) {\r\n\tconst filteredPersons = persons.filter((person) => person.name.toLowerCase().includes(filterString.toLowerCase()));\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{filteredPersons.map((person) => (\r\n\t\t\t\t<p key={person.name}>\r\n\t\t\t\t\t{person.name} {person.number} <button onClick={() => handleDelete(person.id)}>Delete</button>\r\n\t\t\t\t</p>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Persons;\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons/';\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl);\r\n\treturn request.then((result) => {\r\n\t\treturn result.data;\r\n\t});\r\n};\r\n\r\nconst create = (newObject) => {\r\n\tconst request = axios.post(baseUrl, newObject);\r\n\treturn request.then((response) => {\r\n\t\treturn response.data;\r\n\t});\r\n};\r\n\r\nconst remove = (id) => {\r\n\tconst request = axios.delete(baseUrl + id);\r\n\trequest.then((response) => {});\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n\tconst request = axios.put(baseUrl + id, newObject);\r\n\treturn request.then((response) => {\r\n\t\treturn response.data;\r\n\t});\r\n};\r\n\r\nconst phonebook = {\r\n\tgetAll,\r\n\tcreate,\r\n\tremove,\r\n\tupdate,\r\n};\r\n\r\nexport default phonebook;\r\n","import React from 'react';\r\n\r\nfunction Notification({ message, error = false }) {\r\n\tif (message === null) return null;\r\n\treturn <div className={error ? 'error-message' : 'success-message'}>{message}</div>;\r\n}\r\n\r\nexport default Notification;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport Filter from './components/Filter';\r\nimport PersonForm from './components/PersonForm';\r\nimport Persons from './components/Persons';\r\nimport phonebook from './services/persons';\r\nimport Notification from './components/Notification';\r\n\r\nconst App = () => {\r\n\tuseEffect(() => {\r\n\t\tphonebook.getAll().then((initialPersons) => {\r\n\t\t\tsetPersons(initialPersons);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst [persons, setPersons] = useState([]);\r\n\tconst [newName, setNewName] = useState('');\r\n\tconst [newNumber, setNewNumber] = useState('');\r\n\tconst [filterString, setFilterString] = useState('');\r\n\tconst [statusMessage, setStatusMessage] = useState({ message: null, error: false });\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst personObject = {\r\n\t\t\tname: newName,\r\n\t\t\tnumber: newNumber,\r\n\t\t};\r\n\r\n\t\tconst personExists = persons.find((person) => person.name.toLowerCase() === newName.toLowerCase());\r\n\r\n\t\tif (personExists) {\r\n\t\t\tif (\r\n\t\t\t\twindow.confirm(\r\n\t\t\t\t\t`${personExists.name} is already added to phonebook, replace the old number with the new one?`\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\tphonebook\r\n\t\t\t\t\t.update(personExists.id, personObject)\r\n\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t\tsetPersons(persons.map((person) => (person.id !== personExists.id ? person : result)));\r\n\t\t\t\t\t\tsetStatusMessage({\r\n\t\t\t\t\t\t\tmessage: `${personExists.name}'s number was succesfully updated`,\r\n\t\t\t\t\t\t\terror: false,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\tsetStatusMessage({ message: error.response.data.error, error: true });\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tsetStatusMessage({ message: null, error: null });\r\n\t\t\t\t\t\t}, 5000);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetStatusMessage({ message: null, error: null });\r\n\t\t\t\t}, 5000);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tphonebook\r\n\t\t\t\t.create(personObject)\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tsetPersons(persons.concat(result));\r\n\t\t\t\t\tsetStatusMessage({ message: `${result.name} was succesfully added to phonebook`, error: false });\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetStatusMessage({ message: null, error: null });\r\n\t\t\t\t\t}, 5000);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\tsetStatusMessage({ message: error.response.data.error, error: true });\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetStatusMessage({ message: null, error: null });\r\n\t\t\t\t\t}, 5000);\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tsetNewName('');\r\n\t\tsetNewNumber('');\r\n\t};\r\n\r\n\tconst handleNameChange = (e) => setNewName(e.target.value);\r\n\r\n\tconst handleNumberChange = (e) => setNewNumber(e.target.value);\r\n\r\n\tconst handleFilterChange = (e) => setFilterString(e.target.value);\r\n\r\n\tconst handleDelete = (personId) => {\r\n\t\tif (window.confirm('Are you sure you wish to delete this person from phonebook?')) {\r\n\t\t\tphonebook.remove(personId);\r\n\t\t\tsetPersons(persons.filter((person) => person.id !== personId));\r\n\t\t}\r\n\t\treturn;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Phonebook</h2>\r\n\t\t\t<Notification message={statusMessage.message} error={statusMessage.error} />\r\n\t\t\t<Filter handleChange={handleFilterChange} filterString={filterString} />\r\n\r\n\t\t\t<h3>Add a New</h3>\r\n\t\t\t<PersonForm\r\n\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\thandleNameChange={handleNameChange}\r\n\t\t\t\thandleNumberChange={handleNumberChange}\r\n\t\t\t\tnewName={newName}\r\n\t\t\t\tnewNumber={newNumber}\r\n\t\t\t/>\r\n\r\n\t\t\t<h2>Numbers</h2>\r\n\t\t\t<Persons persons={persons} filterString={filterString} handleDelete={handleDelete} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/index.css';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}